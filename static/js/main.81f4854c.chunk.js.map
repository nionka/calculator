{"version":3,"sources":["components/Equals.jsx","components/Numbers.jsx","components/Operators.jsx","components/Buttons.jsx","components/Input.jsx","components/Error.jsx","Calculator.js","reportWebVitals.js","index.js"],"names":["Equals","handleEquals","className","onClick","Numbers","handleNumbers","e","target","classList","contains","textContent","Operators","handleOperator","Buttons","Input","input","Error","text","Calculator","operators","useState","setInput","equal","setEqual","error","setError","addValueForInput","value","length","prev","checkOperators","includes","result","String","Function","slice","operator","number","i","checkDot","reportWebVitals","onPerfEntry","then","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.81f4854c.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Equals({ handleEquals }) {\n  return ( \n    <div \n      className=\"equal\"\n      onClick={handleEquals}\n    >\n      =\n    </div>\n   );\n}\n\nEquals.propTypes = {\n  handleEquals: PropTypes.func.isRequired\n}\n \nexport default Equals;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Numbers({ handleNumbers }) {\n\n  const handleClick = e => {\n    if (e.target.classList.contains('numbers')) return\n\n    handleNumbers(e.target.textContent);\n  }\n\n  return ( \n    <div className=\"leftPanel\" onClick={handleClick}>\n        <div className=\"numbers\">\n          <div>7</div>\n          <div>8</div>\n          <div>9</div>\n        </div>\n        <div className=\"numbers\">\n          <div>4</div>\n          <div>5</div>\n          <div>6</div>\n        </div>\n        <div className=\"numbers\">\n          <div>1</div>\n          <div>2</div>\n          <div>3</div>\n        </div>\n        <div className=\"numbers\">\n          <div>0</div>\n          <div>.</div>\n          <div>AC</div>\n        </div>\n      </div>\n   );\n}\n\nNumbers.propTypes = {\n  handleNumbers: PropTypes.func.isRequired\n}\n \nexport default Numbers;","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Operators({ handleOperator }) {\n\n  const handleClick = e => {\n    if (e.target.classList.contains('operators')) return\n\n    handleOperator(e.target.textContent)\n  }\n\n  return ( \n    <div\n      className=\"operators\"\n      onClick={handleClick}\n    >\n        <div>+</div>\n        <div>-</div>\n        <div>*</div>\n        <div>/</div>\n    </div>\n   );\n}\n\nOperators.propTypes = {\n  handleOperator: PropTypes.func.isRequired\n}\n \nexport default Operators;","import React from 'react';\nimport PropTypes from 'prop-types';\nimport Equals from './Equals';\nimport Numbers from './Numbers';\nimport Operators from './Operators';\n\nfunction Buttons({ handleEquals, handleOperator, handleNumbers }) {\n\n  return (\n    <div className=\"buttons\">\n      <Operators handleOperator={handleOperator} />\n      <Numbers handleNumbers={handleNumbers} />\n      <Equals handleEquals={handleEquals} />\n    </div>\n  )\n}\n\nButtons.propTypes = {\n  handleEquals: PropTypes.func.isRequired,\n  handleOperator: PropTypes.func.isRequired,\n  handleNumbers: PropTypes.func.isRequired,\n}\n\nexport default Buttons;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Input({ input }) {\n  return (\n    <div className=\"input\">{input}</div>\n  );\n}\n\nInput.propTypes = {\n  input: PropTypes.string.isRequired,\n};\n\nexport default Input;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Error({ text }) {\n  return (\n    <div className=\"error\">{text}</div>\n  );\n}\n\nError.propTypes = {\n  text: PropTypes.string.isRequired\n}\n\nexport default Error;","import React, { useState } from 'react'\nimport Buttons from './components/Buttons';\nimport Input from './components/Input';\nimport Error from './components/Error'; \n\nfunction Calculator() {\n  const operators = ['-', '*', '+', '/', '.'];\n  const [input, setInput] = useState('0');\n  const [equal, setEqual] = useState(false);\n  const [error, setError] = useState('');\n\n  const addValueForInput = value => {\n    if (input.length > 14) {\n      setError('Слишком длинный ввод');\n      return\n    }\n\n    if ((input === '0' || equal) && value !== '.') {\n      setInput(value);\n      setEqual(false);\n    } else {\n      setInput(prev => prev + value);\n    }\n  }\n\n  const checkOperators = () => {\n    return operators.includes(input[input.length - 1]);\n  }\n\n  const checkDot = () => {\n    for (let i = input.length - 1; i >= 0; i--) {\n      if (operators.includes(input[i])) {\n        return input[i];\n      }\n    }\n  }\n\n  const handleEquals = () => {\n    setError('');\n\n    let result = String(Function(`'use strict'; return (${input})`)());\n\n    if (result.length > 14) {\n      result = result.slice(0, 15);\n    }\n\n    setInput(result);\n    setEqual(true);\n  }\n\n  const handleOperator = operator => {\n    setError('');\n\n    if (input === '0' && operator !== '-') {\n      setError('Некорректный ввод');\n      return;\n    }\n\n    if (equal) {\n      setInput(prev => prev + operator);\n      setEqual(false);\n      return;\n    }\n    \n    if (checkOperators()) {\n      setError('Некорректный ввод');\n      return;\n    }\n\n    addValueForInput(operator);\n  }\n\n  const handleNumbers = number => {\n    setError('');\n\n    if (number === 'AC') {\n      setInput('0');\n      setEqual(false);\n      return;\n    }\n\n    if (number === '.' && (equal || checkDot() === '.' || checkOperators())) {\n      setError('Некорректный ввод');\n      return;\n    }\n\n    addValueForInput(number);  \n  }\n\n  return (\n    <>\n    {error && <Error text={error} />}\n    <div className=\"calculator\">\n      <Input input={input} />\n      <Buttons\n        handleEquals={handleEquals}\n        handleOperator={handleOperator}\n        handleNumbers={handleNumbers}\n      />  \n    </div>\n    </>\n  );\n}\n\nexport default Calculator;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport Calculator from './Calculator';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <Calculator />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\nreportWebVitals();\n"],"sourceRoot":""}